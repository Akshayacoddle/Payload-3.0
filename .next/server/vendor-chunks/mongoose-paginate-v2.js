"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/mongoose-paginate-v2";
exports.ids = ["vendor-chunks/mongoose-paginate-v2"];
exports.modules = {

/***/ "(rsc)/./node_modules/mongoose-paginate-v2/dist/index.js":
/*!*********************************************************!*\
  !*** ./node_modules/mongoose-paginate-v2/dist/index.js ***!
  \*********************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n/**\r\n * @param {Object}              [query={}]\r\n * @param {Object}              [options={}]\r\n * @param {Object|String}       [options.select='']\r\n * @param {Object|String}       [options.projection={}]\r\n * @param {Object}              [options.options={}]\r\n * @param {Object|String}       [options.sort]\r\n * @param {Object|String}       [options.customLabels]\r\n * @param {Object}              [options.collation]\r\n * @param {Array|Object|String} [options.populate]\r\n * @param {Boolean}             [options.lean=false]\r\n * @param {Boolean}             [options.leanWithId=true]\r\n * @param {Number}              [options.offset=0] - Use offset or page to set skip position\r\n * @param {Number}              [options.page=1]\r\n * @param {Number}              [options.limit=10]\r\n * @param {Boolean}             [options.useEstimatedCount=true] - Enable estimatedDocumentCount for larger datasets. As the name says, the count may not abe accurate.\r\n * @param {Function}            [options.useCustomCountFn=false] - use custom function for count datasets.\r\n * @param {Object}              [options.read={}] - Determines the MongoDB nodes from which to read.\r\n * @param {Function}            [callback]\r\n *\r\n * @returns {Promise}\r\n */\nvar PaginationParametersHelper = __webpack_require__(/*! ./pagination-parameters */ \"(rsc)/./node_modules/mongoose-paginate-v2/dist/pagination-parameters.js\");\n\nvar paginateSubDocsHelper = __webpack_require__(/*! ./pagination-subdocs */ \"(rsc)/./node_modules/mongoose-paginate-v2/dist/pagination-subdocs.js\");\n\nvar defaultOptions = {\n  customLabels: {\n    totalDocs: 'totalDocs',\n    limit: 'limit',\n    page: 'page',\n    totalPages: 'totalPages',\n    docs: 'docs',\n    nextPage: 'nextPage',\n    prevPage: 'prevPage',\n    pagingCounter: 'pagingCounter',\n    hasPrevPage: 'hasPrevPage',\n    hasNextPage: 'hasNextPage',\n    meta: null\n  },\n  collation: {},\n  lean: false,\n  leanWithId: true,\n  limit: 10,\n  projection: {},\n  select: '',\n  options: {},\n  pagination: true,\n  useEstimatedCount: false,\n  useCustomCountFn: false,\n  forceCountFn: false,\n  allowDiskUse: false,\n  customFind: 'find'\n};\n\nfunction paginate(query, options, callback) {\n  options = _objectSpread(_objectSpread(_objectSpread({}, defaultOptions), paginate.options), options);\n  query = query || {};\n  var _options = options,\n      collation = _options.collation,\n      lean = _options.lean,\n      leanWithId = _options.leanWithId,\n      populate = _options.populate,\n      projection = _options.projection,\n      read = _options.read,\n      select = _options.select,\n      sort = _options.sort,\n      pagination = _options.pagination,\n      useEstimatedCount = _options.useEstimatedCount,\n      useCustomCountFn = _options.useCustomCountFn,\n      forceCountFn = _options.forceCountFn,\n      allowDiskUse = _options.allowDiskUse,\n      customFind = _options.customFind;\n\n  var customLabels = _objectSpread(_objectSpread({}, defaultOptions.customLabels), options.customLabels);\n\n  var limit = defaultOptions.limit;\n\n  if (pagination) {\n    limit = parseInt(options.limit, 10) > 0 ? parseInt(options.limit, 10) : 0;\n  }\n\n  var isCallbackSpecified = typeof callback === 'function';\n  var findOptions = options.options;\n  var offset;\n  var page;\n  var skip;\n  var docsPromise = []; // Labels\n\n  var labelDocs = customLabels.docs;\n  var labelLimit = customLabels.limit;\n  var labelNextPage = customLabels.nextPage;\n  var labelPage = customLabels.page;\n  var labelPagingCounter = customLabels.pagingCounter;\n  var labelPrevPage = customLabels.prevPage;\n  var labelTotal = customLabels.totalDocs;\n  var labelTotalPages = customLabels.totalPages;\n  var labelHasPrevPage = customLabels.hasPrevPage;\n  var labelHasNextPage = customLabels.hasNextPage;\n  var labelMeta = customLabels.meta;\n\n  if (Object.prototype.hasOwnProperty.call(options, 'offset')) {\n    offset = parseInt(options.offset, 10);\n    skip = offset;\n  } else if (Object.prototype.hasOwnProperty.call(options, 'page')) {\n    page = parseInt(options.page, 10) < 1 ? 1 : parseInt(options.page, 10);\n    skip = (page - 1) * limit;\n  } else {\n    offset = 0;\n    page = 1;\n    skip = offset;\n  }\n\n  if (!pagination) {\n    page = 1;\n  }\n\n  var countPromise; // Only run count when pagination is enabled\n\n  if (pagination) {\n    if (forceCountFn === true) {\n      // Deprecated since starting from MongoDB Node.JS driver v3.1\n      // Hack for mongo < v3.4\n      if (Object.keys(collation).length > 0) {\n        countPromise = this.count(query).collation(collation).exec();\n      } else {\n        countPromise = this.count(query).exec();\n      }\n    } else {\n      if (useEstimatedCount === true) {\n        countPromise = this.estimatedDocumentCount().exec();\n      } else if (typeof useCustomCountFn === 'function') {\n        countPromise = useCustomCountFn();\n      } else {\n        // Hack for mongo < v3.4\n        if (Object.keys(collation).length > 0) {\n          countPromise = this.countDocuments(query).collation(collation).exec();\n        } else {\n          countPromise = this.countDocuments(query).exec();\n        }\n      }\n    }\n  }\n\n  if (limit) {\n    var mQuery = this[customFind](query, projection, findOptions);\n\n    if (populate) {\n      mQuery.populate(populate);\n    }\n\n    mQuery.select(select);\n    mQuery.sort(sort);\n    mQuery.lean(lean);\n\n    if (read && read.pref) {\n      /**\r\n       * Determines the MongoDB nodes from which to read.\r\n       * @param read.pref one of the listed preference options or aliases\r\n       * @param read.tags optional tags for this query\r\n       */\n      mQuery.read(read.pref, read.tags);\n    } // Hack for mongo < v3.4\n\n\n    if (Object.keys(collation).length > 0) {\n      mQuery.collation(collation);\n    }\n\n    if (pagination) {\n      mQuery.skip(skip);\n      mQuery.limit(limit);\n    }\n\n    try {\n      if (allowDiskUse === true) {\n        mQuery.allowDiskUse();\n      }\n    } catch (ex) {\n      console.error('Your MongoDB version does not support `allowDiskUse`.');\n    }\n\n    docsPromise = mQuery.exec();\n\n    if (lean && leanWithId) {\n      docsPromise = docsPromise.then(function (docs) {\n        docs.forEach(function (doc) {\n          if (doc._id) {\n            doc.id = String(doc._id);\n          }\n        });\n        return docs;\n      });\n    }\n  }\n\n  return Promise.all([countPromise, docsPromise]).then(function (values) {\n    var count = values[0];\n    var docs = values[1];\n\n    if (pagination !== true) {\n      count = docs.length;\n    }\n\n    var meta = {\n      [labelTotal]: count\n    };\n    var result = {};\n\n    if (typeof offset !== 'undefined') {\n      meta.offset = offset;\n      page = Math.ceil((offset + 1) / limit);\n    }\n\n    var pages = limit > 0 ? Math.ceil(count / limit) || 1 : null; // Setting default values\n\n    meta[labelLimit] = count;\n    meta[labelTotalPages] = 1;\n    meta[labelPage] = page;\n    meta[labelPagingCounter] = (page - 1) * limit + 1;\n    meta[labelHasPrevPage] = false;\n    meta[labelHasNextPage] = false;\n    meta[labelPrevPage] = null;\n    meta[labelNextPage] = null;\n\n    if (pagination) {\n      meta[labelLimit] = limit;\n      meta[labelTotalPages] = pages; // Set prev page\n\n      if (page > 1) {\n        meta[labelHasPrevPage] = true;\n        meta[labelPrevPage] = page - 1;\n      } else if (page == 1 && typeof offset !== 'undefined' && offset !== 0) {\n        meta[labelHasPrevPage] = true;\n        meta[labelPrevPage] = 1;\n      } // Set next page\n\n\n      if (page < pages) {\n        meta[labelHasNextPage] = true;\n        meta[labelNextPage] = page + 1;\n      }\n    } // Remove customLabels set to false\n\n\n    delete meta['false'];\n\n    if (limit == 0) {\n      meta[labelLimit] = 0;\n      meta[labelTotalPages] = 1;\n      meta[labelPage] = 1;\n      meta[labelPagingCounter] = 1;\n      meta[labelPrevPage] = null;\n      meta[labelNextPage] = null;\n      meta[labelHasPrevPage] = false;\n      meta[labelHasNextPage] = false;\n    }\n\n    if (labelMeta) {\n      result = {\n        [labelDocs]: docs,\n        [labelMeta]: meta\n      };\n    } else {\n      result = _objectSpread({\n        [labelDocs]: docs\n      }, meta);\n    }\n\n    return isCallbackSpecified ? callback(null, result) : Promise.resolve(result);\n  }).catch(function (error) {\n    return isCallbackSpecified ? callback(error) : Promise.reject(error);\n  });\n}\n/**\r\n * @param {Schema} schema\r\n */\n\n\nmodule.exports = function (schema) {\n  schema.statics.paginate = paginate;\n  schema.statics.paginateSubDocs = paginateSubDocsHelper;\n};\n\nmodule.exports.PaginationParameters = PaginationParametersHelper;\nmodule.exports.paginateSubDocs = paginateSubDocsHelper;\nmodule.exports.paginate = paginate;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbW9uZ29vc2UtcGFnaW5hdGUtdjIvZGlzdC9pbmRleC5qcyIsIm1hcHBpbmdzIjoiQUFBYTs7QUFFYiwyQ0FBMkMsZ0NBQWdDLG9DQUFvQyxvREFBb0Qsc0JBQXNCLDBDQUEwQyxpRUFBaUUsS0FBSyxrQ0FBa0M7O0FBRTNVLGlDQUFpQyxnQkFBZ0Isc0JBQXNCLE9BQU8sdURBQXVELGFBQWEsdURBQXVELDRDQUE0QyxLQUFLLDZDQUE2Qyw2RUFBNkUsT0FBTyxpREFBaUQsbUZBQW1GLE9BQU87O0FBRXRnQiw0Q0FBNEMsa0JBQWtCLGtDQUFrQyxvRUFBb0UsS0FBSyxPQUFPLG9CQUFvQjs7QUFFcE07QUFDQSxXQUFXLHFCQUFxQixTQUFTO0FBQ3pDLFdBQVcscUJBQXFCLFdBQVc7QUFDM0MsV0FBVyxxQkFBcUI7QUFDaEMsV0FBVyxxQkFBcUIsc0JBQXNCO0FBQ3RELFdBQVcscUJBQXFCLG1CQUFtQjtBQUNuRCxXQUFXLHFCQUFxQjtBQUNoQyxXQUFXLHFCQUFxQjtBQUNoQyxXQUFXLHFCQUFxQjtBQUNoQyxXQUFXLHFCQUFxQjtBQUNoQyxXQUFXLHFCQUFxQjtBQUNoQyxXQUFXLHFCQUFxQjtBQUNoQyxXQUFXLHFCQUFxQjtBQUNoQyxXQUFXLHFCQUFxQjtBQUNoQyxXQUFXLHFCQUFxQjtBQUNoQyxXQUFXLHFCQUFxQjtBQUNoQyxXQUFXLHFCQUFxQjtBQUNoQyxXQUFXLHFCQUFxQixnQkFBZ0I7QUFDaEQsV0FBVyxxQkFBcUI7QUFDaEM7QUFDQSxhQUFhO0FBQ2I7QUFDQSxpQ0FBaUMsbUJBQU8sQ0FBQyx3R0FBeUI7O0FBRWxFLDRCQUE0QixtQkFBTyxDQUFDLGtHQUFzQjs7QUFFMUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsZUFBZTtBQUNmO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQjtBQUNoQjtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLHdEQUF3RDtBQUN4RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxtREFBbUQ7O0FBRW5EOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCOztBQUV4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSxvQkFBb0I7O0FBRXBCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTs7O0FBR047QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0EsT0FBTztBQUNQO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxrRUFBa0U7O0FBRWxFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLHFDQUFxQzs7QUFFckM7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQSxRQUFROzs7QUFHUjtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07OztBQUdOOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBLE9BQU87QUFDUDs7QUFFQTtBQUNBLEdBQUc7QUFDSDtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25COzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxtQ0FBbUM7QUFDbkMsOEJBQThCO0FBQzlCLHVCQUF1QiIsInNvdXJjZXMiOlsid2VicGFjazovL25leHQtbGF0ZXN0LXN0YXJ0ZXIvLi9ub2RlX21vZHVsZXMvbW9uZ29vc2UtcGFnaW5hdGUtdjIvZGlzdC9pbmRleC5qcz9lY2Q5Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG5mdW5jdGlvbiBvd25LZXlzKG9iamVjdCwgZW51bWVyYWJsZU9ubHkpIHsgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhvYmplY3QpOyBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykgeyB2YXIgc3ltYm9scyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMob2JqZWN0KTsgaWYgKGVudW1lcmFibGVPbmx5KSB7IHN5bWJvbHMgPSBzeW1ib2xzLmZpbHRlcihmdW5jdGlvbiAoc3ltKSB7IHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iamVjdCwgc3ltKS5lbnVtZXJhYmxlOyB9KTsgfSBrZXlzLnB1c2guYXBwbHkoa2V5cywgc3ltYm9scyk7IH0gcmV0dXJuIGtleXM7IH1cblxuZnVuY3Rpb24gX29iamVjdFNwcmVhZCh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXSAhPSBudWxsID8gYXJndW1lbnRzW2ldIDoge307IGlmIChpICUgMikgeyBvd25LZXlzKE9iamVjdChzb3VyY2UpLCB0cnVlKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgX2RlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBzb3VyY2Vba2V5XSk7IH0pOyB9IGVsc2UgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoc291cmNlKSk7IH0gZWxzZSB7IG93bktleXMoT2JqZWN0KHNvdXJjZSkpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc291cmNlLCBrZXkpKTsgfSk7IH0gfSByZXR1cm4gdGFyZ2V0OyB9XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpIHsgaWYgKGtleSBpbiBvYmopIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7IHZhbHVlOiB2YWx1ZSwgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlLCB3cml0YWJsZTogdHJ1ZSB9KTsgfSBlbHNlIHsgb2JqW2tleV0gPSB2YWx1ZTsgfSByZXR1cm4gb2JqOyB9XG5cbi8qKlxyXG4gKiBAcGFyYW0ge09iamVjdH0gICAgICAgICAgICAgIFtxdWVyeT17fV1cclxuICogQHBhcmFtIHtPYmplY3R9ICAgICAgICAgICAgICBbb3B0aW9ucz17fV1cclxuICogQHBhcmFtIHtPYmplY3R8U3RyaW5nfSAgICAgICBbb3B0aW9ucy5zZWxlY3Q9JyddXHJcbiAqIEBwYXJhbSB7T2JqZWN0fFN0cmluZ30gICAgICAgW29wdGlvbnMucHJvamVjdGlvbj17fV1cclxuICogQHBhcmFtIHtPYmplY3R9ICAgICAgICAgICAgICBbb3B0aW9ucy5vcHRpb25zPXt9XVxyXG4gKiBAcGFyYW0ge09iamVjdHxTdHJpbmd9ICAgICAgIFtvcHRpb25zLnNvcnRdXHJcbiAqIEBwYXJhbSB7T2JqZWN0fFN0cmluZ30gICAgICAgW29wdGlvbnMuY3VzdG9tTGFiZWxzXVxyXG4gKiBAcGFyYW0ge09iamVjdH0gICAgICAgICAgICAgIFtvcHRpb25zLmNvbGxhdGlvbl1cclxuICogQHBhcmFtIHtBcnJheXxPYmplY3R8U3RyaW5nfSBbb3B0aW9ucy5wb3B1bGF0ZV1cclxuICogQHBhcmFtIHtCb29sZWFufSAgICAgICAgICAgICBbb3B0aW9ucy5sZWFuPWZhbHNlXVxyXG4gKiBAcGFyYW0ge0Jvb2xlYW59ICAgICAgICAgICAgIFtvcHRpb25zLmxlYW5XaXRoSWQ9dHJ1ZV1cclxuICogQHBhcmFtIHtOdW1iZXJ9ICAgICAgICAgICAgICBbb3B0aW9ucy5vZmZzZXQ9MF0gLSBVc2Ugb2Zmc2V0IG9yIHBhZ2UgdG8gc2V0IHNraXAgcG9zaXRpb25cclxuICogQHBhcmFtIHtOdW1iZXJ9ICAgICAgICAgICAgICBbb3B0aW9ucy5wYWdlPTFdXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSAgICAgICAgICAgICAgW29wdGlvbnMubGltaXQ9MTBdXHJcbiAqIEBwYXJhbSB7Qm9vbGVhbn0gICAgICAgICAgICAgW29wdGlvbnMudXNlRXN0aW1hdGVkQ291bnQ9dHJ1ZV0gLSBFbmFibGUgZXN0aW1hdGVkRG9jdW1lbnRDb3VudCBmb3IgbGFyZ2VyIGRhdGFzZXRzLiBBcyB0aGUgbmFtZSBzYXlzLCB0aGUgY291bnQgbWF5IG5vdCBhYmUgYWNjdXJhdGUuXHJcbiAqIEBwYXJhbSB7RnVuY3Rpb259ICAgICAgICAgICAgW29wdGlvbnMudXNlQ3VzdG9tQ291bnRGbj1mYWxzZV0gLSB1c2UgY3VzdG9tIGZ1bmN0aW9uIGZvciBjb3VudCBkYXRhc2V0cy5cclxuICogQHBhcmFtIHtPYmplY3R9ICAgICAgICAgICAgICBbb3B0aW9ucy5yZWFkPXt9XSAtIERldGVybWluZXMgdGhlIE1vbmdvREIgbm9kZXMgZnJvbSB3aGljaCB0byByZWFkLlxyXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSAgICAgICAgICAgIFtjYWxsYmFja11cclxuICpcclxuICogQHJldHVybnMge1Byb21pc2V9XHJcbiAqL1xudmFyIFBhZ2luYXRpb25QYXJhbWV0ZXJzSGVscGVyID0gcmVxdWlyZSgnLi9wYWdpbmF0aW9uLXBhcmFtZXRlcnMnKTtcblxudmFyIHBhZ2luYXRlU3ViRG9jc0hlbHBlciA9IHJlcXVpcmUoJy4vcGFnaW5hdGlvbi1zdWJkb2NzJyk7XG5cbnZhciBkZWZhdWx0T3B0aW9ucyA9IHtcbiAgY3VzdG9tTGFiZWxzOiB7XG4gICAgdG90YWxEb2NzOiAndG90YWxEb2NzJyxcbiAgICBsaW1pdDogJ2xpbWl0JyxcbiAgICBwYWdlOiAncGFnZScsXG4gICAgdG90YWxQYWdlczogJ3RvdGFsUGFnZXMnLFxuICAgIGRvY3M6ICdkb2NzJyxcbiAgICBuZXh0UGFnZTogJ25leHRQYWdlJyxcbiAgICBwcmV2UGFnZTogJ3ByZXZQYWdlJyxcbiAgICBwYWdpbmdDb3VudGVyOiAncGFnaW5nQ291bnRlcicsXG4gICAgaGFzUHJldlBhZ2U6ICdoYXNQcmV2UGFnZScsXG4gICAgaGFzTmV4dFBhZ2U6ICdoYXNOZXh0UGFnZScsXG4gICAgbWV0YTogbnVsbFxuICB9LFxuICBjb2xsYXRpb246IHt9LFxuICBsZWFuOiBmYWxzZSxcbiAgbGVhbldpdGhJZDogdHJ1ZSxcbiAgbGltaXQ6IDEwLFxuICBwcm9qZWN0aW9uOiB7fSxcbiAgc2VsZWN0OiAnJyxcbiAgb3B0aW9uczoge30sXG4gIHBhZ2luYXRpb246IHRydWUsXG4gIHVzZUVzdGltYXRlZENvdW50OiBmYWxzZSxcbiAgdXNlQ3VzdG9tQ291bnRGbjogZmFsc2UsXG4gIGZvcmNlQ291bnRGbjogZmFsc2UsXG4gIGFsbG93RGlza1VzZTogZmFsc2UsXG4gIGN1c3RvbUZpbmQ6ICdmaW5kJ1xufTtcblxuZnVuY3Rpb24gcGFnaW5hdGUocXVlcnksIG9wdGlvbnMsIGNhbGxiYWNrKSB7XG4gIG9wdGlvbnMgPSBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgZGVmYXVsdE9wdGlvbnMpLCBwYWdpbmF0ZS5vcHRpb25zKSwgb3B0aW9ucyk7XG4gIHF1ZXJ5ID0gcXVlcnkgfHwge307XG4gIHZhciBfb3B0aW9ucyA9IG9wdGlvbnMsXG4gICAgICBjb2xsYXRpb24gPSBfb3B0aW9ucy5jb2xsYXRpb24sXG4gICAgICBsZWFuID0gX29wdGlvbnMubGVhbixcbiAgICAgIGxlYW5XaXRoSWQgPSBfb3B0aW9ucy5sZWFuV2l0aElkLFxuICAgICAgcG9wdWxhdGUgPSBfb3B0aW9ucy5wb3B1bGF0ZSxcbiAgICAgIHByb2plY3Rpb24gPSBfb3B0aW9ucy5wcm9qZWN0aW9uLFxuICAgICAgcmVhZCA9IF9vcHRpb25zLnJlYWQsXG4gICAgICBzZWxlY3QgPSBfb3B0aW9ucy5zZWxlY3QsXG4gICAgICBzb3J0ID0gX29wdGlvbnMuc29ydCxcbiAgICAgIHBhZ2luYXRpb24gPSBfb3B0aW9ucy5wYWdpbmF0aW9uLFxuICAgICAgdXNlRXN0aW1hdGVkQ291bnQgPSBfb3B0aW9ucy51c2VFc3RpbWF0ZWRDb3VudCxcbiAgICAgIHVzZUN1c3RvbUNvdW50Rm4gPSBfb3B0aW9ucy51c2VDdXN0b21Db3VudEZuLFxuICAgICAgZm9yY2VDb3VudEZuID0gX29wdGlvbnMuZm9yY2VDb3VudEZuLFxuICAgICAgYWxsb3dEaXNrVXNlID0gX29wdGlvbnMuYWxsb3dEaXNrVXNlLFxuICAgICAgY3VzdG9tRmluZCA9IF9vcHRpb25zLmN1c3RvbUZpbmQ7XG5cbiAgdmFyIGN1c3RvbUxhYmVscyA9IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgZGVmYXVsdE9wdGlvbnMuY3VzdG9tTGFiZWxzKSwgb3B0aW9ucy5jdXN0b21MYWJlbHMpO1xuXG4gIHZhciBsaW1pdCA9IGRlZmF1bHRPcHRpb25zLmxpbWl0O1xuXG4gIGlmIChwYWdpbmF0aW9uKSB7XG4gICAgbGltaXQgPSBwYXJzZUludChvcHRpb25zLmxpbWl0LCAxMCkgPiAwID8gcGFyc2VJbnQob3B0aW9ucy5saW1pdCwgMTApIDogMDtcbiAgfVxuXG4gIHZhciBpc0NhbGxiYWNrU3BlY2lmaWVkID0gdHlwZW9mIGNhbGxiYWNrID09PSAnZnVuY3Rpb24nO1xuICB2YXIgZmluZE9wdGlvbnMgPSBvcHRpb25zLm9wdGlvbnM7XG4gIHZhciBvZmZzZXQ7XG4gIHZhciBwYWdlO1xuICB2YXIgc2tpcDtcbiAgdmFyIGRvY3NQcm9taXNlID0gW107IC8vIExhYmVsc1xuXG4gIHZhciBsYWJlbERvY3MgPSBjdXN0b21MYWJlbHMuZG9jcztcbiAgdmFyIGxhYmVsTGltaXQgPSBjdXN0b21MYWJlbHMubGltaXQ7XG4gIHZhciBsYWJlbE5leHRQYWdlID0gY3VzdG9tTGFiZWxzLm5leHRQYWdlO1xuICB2YXIgbGFiZWxQYWdlID0gY3VzdG9tTGFiZWxzLnBhZ2U7XG4gIHZhciBsYWJlbFBhZ2luZ0NvdW50ZXIgPSBjdXN0b21MYWJlbHMucGFnaW5nQ291bnRlcjtcbiAgdmFyIGxhYmVsUHJldlBhZ2UgPSBjdXN0b21MYWJlbHMucHJldlBhZ2U7XG4gIHZhciBsYWJlbFRvdGFsID0gY3VzdG9tTGFiZWxzLnRvdGFsRG9jcztcbiAgdmFyIGxhYmVsVG90YWxQYWdlcyA9IGN1c3RvbUxhYmVscy50b3RhbFBhZ2VzO1xuICB2YXIgbGFiZWxIYXNQcmV2UGFnZSA9IGN1c3RvbUxhYmVscy5oYXNQcmV2UGFnZTtcbiAgdmFyIGxhYmVsSGFzTmV4dFBhZ2UgPSBjdXN0b21MYWJlbHMuaGFzTmV4dFBhZ2U7XG4gIHZhciBsYWJlbE1ldGEgPSBjdXN0b21MYWJlbHMubWV0YTtcblxuICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9wdGlvbnMsICdvZmZzZXQnKSkge1xuICAgIG9mZnNldCA9IHBhcnNlSW50KG9wdGlvbnMub2Zmc2V0LCAxMCk7XG4gICAgc2tpcCA9IG9mZnNldDtcbiAgfSBlbHNlIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob3B0aW9ucywgJ3BhZ2UnKSkge1xuICAgIHBhZ2UgPSBwYXJzZUludChvcHRpb25zLnBhZ2UsIDEwKSA8IDEgPyAxIDogcGFyc2VJbnQob3B0aW9ucy5wYWdlLCAxMCk7XG4gICAgc2tpcCA9IChwYWdlIC0gMSkgKiBsaW1pdDtcbiAgfSBlbHNlIHtcbiAgICBvZmZzZXQgPSAwO1xuICAgIHBhZ2UgPSAxO1xuICAgIHNraXAgPSBvZmZzZXQ7XG4gIH1cblxuICBpZiAoIXBhZ2luYXRpb24pIHtcbiAgICBwYWdlID0gMTtcbiAgfVxuXG4gIHZhciBjb3VudFByb21pc2U7IC8vIE9ubHkgcnVuIGNvdW50IHdoZW4gcGFnaW5hdGlvbiBpcyBlbmFibGVkXG5cbiAgaWYgKHBhZ2luYXRpb24pIHtcbiAgICBpZiAoZm9yY2VDb3VudEZuID09PSB0cnVlKSB7XG4gICAgICAvLyBEZXByZWNhdGVkIHNpbmNlIHN0YXJ0aW5nIGZyb20gTW9uZ29EQiBOb2RlLkpTIGRyaXZlciB2My4xXG4gICAgICAvLyBIYWNrIGZvciBtb25nbyA8IHYzLjRcbiAgICAgIGlmIChPYmplY3Qua2V5cyhjb2xsYXRpb24pLmxlbmd0aCA+IDApIHtcbiAgICAgICAgY291bnRQcm9taXNlID0gdGhpcy5jb3VudChxdWVyeSkuY29sbGF0aW9uKGNvbGxhdGlvbikuZXhlYygpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY291bnRQcm9taXNlID0gdGhpcy5jb3VudChxdWVyeSkuZXhlYygpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBpZiAodXNlRXN0aW1hdGVkQ291bnQgPT09IHRydWUpIHtcbiAgICAgICAgY291bnRQcm9taXNlID0gdGhpcy5lc3RpbWF0ZWREb2N1bWVudENvdW50KCkuZXhlYygpO1xuICAgICAgfSBlbHNlIGlmICh0eXBlb2YgdXNlQ3VzdG9tQ291bnRGbiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICBjb3VudFByb21pc2UgPSB1c2VDdXN0b21Db3VudEZuKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBIYWNrIGZvciBtb25nbyA8IHYzLjRcbiAgICAgICAgaWYgKE9iamVjdC5rZXlzKGNvbGxhdGlvbikubGVuZ3RoID4gMCkge1xuICAgICAgICAgIGNvdW50UHJvbWlzZSA9IHRoaXMuY291bnREb2N1bWVudHMocXVlcnkpLmNvbGxhdGlvbihjb2xsYXRpb24pLmV4ZWMoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb3VudFByb21pc2UgPSB0aGlzLmNvdW50RG9jdW1lbnRzKHF1ZXJ5KS5leGVjKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBpZiAobGltaXQpIHtcbiAgICB2YXIgbVF1ZXJ5ID0gdGhpc1tjdXN0b21GaW5kXShxdWVyeSwgcHJvamVjdGlvbiwgZmluZE9wdGlvbnMpO1xuXG4gICAgaWYgKHBvcHVsYXRlKSB7XG4gICAgICBtUXVlcnkucG9wdWxhdGUocG9wdWxhdGUpO1xuICAgIH1cblxuICAgIG1RdWVyeS5zZWxlY3Qoc2VsZWN0KTtcbiAgICBtUXVlcnkuc29ydChzb3J0KTtcbiAgICBtUXVlcnkubGVhbihsZWFuKTtcblxuICAgIGlmIChyZWFkICYmIHJlYWQucHJlZikge1xuICAgICAgLyoqXHJcbiAgICAgICAqIERldGVybWluZXMgdGhlIE1vbmdvREIgbm9kZXMgZnJvbSB3aGljaCB0byByZWFkLlxyXG4gICAgICAgKiBAcGFyYW0gcmVhZC5wcmVmIG9uZSBvZiB0aGUgbGlzdGVkIHByZWZlcmVuY2Ugb3B0aW9ucyBvciBhbGlhc2VzXHJcbiAgICAgICAqIEBwYXJhbSByZWFkLnRhZ3Mgb3B0aW9uYWwgdGFncyBmb3IgdGhpcyBxdWVyeVxyXG4gICAgICAgKi9cbiAgICAgIG1RdWVyeS5yZWFkKHJlYWQucHJlZiwgcmVhZC50YWdzKTtcbiAgICB9IC8vIEhhY2sgZm9yIG1vbmdvIDwgdjMuNFxuXG5cbiAgICBpZiAoT2JqZWN0LmtleXMoY29sbGF0aW9uKS5sZW5ndGggPiAwKSB7XG4gICAgICBtUXVlcnkuY29sbGF0aW9uKGNvbGxhdGlvbik7XG4gICAgfVxuXG4gICAgaWYgKHBhZ2luYXRpb24pIHtcbiAgICAgIG1RdWVyeS5za2lwKHNraXApO1xuICAgICAgbVF1ZXJ5LmxpbWl0KGxpbWl0KTtcbiAgICB9XG5cbiAgICB0cnkge1xuICAgICAgaWYgKGFsbG93RGlza1VzZSA9PT0gdHJ1ZSkge1xuICAgICAgICBtUXVlcnkuYWxsb3dEaXNrVXNlKCk7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXgpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1lvdXIgTW9uZ29EQiB2ZXJzaW9uIGRvZXMgbm90IHN1cHBvcnQgYGFsbG93RGlza1VzZWAuJyk7XG4gICAgfVxuXG4gICAgZG9jc1Byb21pc2UgPSBtUXVlcnkuZXhlYygpO1xuXG4gICAgaWYgKGxlYW4gJiYgbGVhbldpdGhJZCkge1xuICAgICAgZG9jc1Byb21pc2UgPSBkb2NzUHJvbWlzZS50aGVuKGZ1bmN0aW9uIChkb2NzKSB7XG4gICAgICAgIGRvY3MuZm9yRWFjaChmdW5jdGlvbiAoZG9jKSB7XG4gICAgICAgICAgaWYgKGRvYy5faWQpIHtcbiAgICAgICAgICAgIGRvYy5pZCA9IFN0cmluZyhkb2MuX2lkKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gZG9jcztcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBQcm9taXNlLmFsbChbY291bnRQcm9taXNlLCBkb2NzUHJvbWlzZV0pLnRoZW4oZnVuY3Rpb24gKHZhbHVlcykge1xuICAgIHZhciBjb3VudCA9IHZhbHVlc1swXTtcbiAgICB2YXIgZG9jcyA9IHZhbHVlc1sxXTtcblxuICAgIGlmIChwYWdpbmF0aW9uICE9PSB0cnVlKSB7XG4gICAgICBjb3VudCA9IGRvY3MubGVuZ3RoO1xuICAgIH1cblxuICAgIHZhciBtZXRhID0ge1xuICAgICAgW2xhYmVsVG90YWxdOiBjb3VudFxuICAgIH07XG4gICAgdmFyIHJlc3VsdCA9IHt9O1xuXG4gICAgaWYgKHR5cGVvZiBvZmZzZXQgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBtZXRhLm9mZnNldCA9IG9mZnNldDtcbiAgICAgIHBhZ2UgPSBNYXRoLmNlaWwoKG9mZnNldCArIDEpIC8gbGltaXQpO1xuICAgIH1cblxuICAgIHZhciBwYWdlcyA9IGxpbWl0ID4gMCA/IE1hdGguY2VpbChjb3VudCAvIGxpbWl0KSB8fCAxIDogbnVsbDsgLy8gU2V0dGluZyBkZWZhdWx0IHZhbHVlc1xuXG4gICAgbWV0YVtsYWJlbExpbWl0XSA9IGNvdW50O1xuICAgIG1ldGFbbGFiZWxUb3RhbFBhZ2VzXSA9IDE7XG4gICAgbWV0YVtsYWJlbFBhZ2VdID0gcGFnZTtcbiAgICBtZXRhW2xhYmVsUGFnaW5nQ291bnRlcl0gPSAocGFnZSAtIDEpICogbGltaXQgKyAxO1xuICAgIG1ldGFbbGFiZWxIYXNQcmV2UGFnZV0gPSBmYWxzZTtcbiAgICBtZXRhW2xhYmVsSGFzTmV4dFBhZ2VdID0gZmFsc2U7XG4gICAgbWV0YVtsYWJlbFByZXZQYWdlXSA9IG51bGw7XG4gICAgbWV0YVtsYWJlbE5leHRQYWdlXSA9IG51bGw7XG5cbiAgICBpZiAocGFnaW5hdGlvbikge1xuICAgICAgbWV0YVtsYWJlbExpbWl0XSA9IGxpbWl0O1xuICAgICAgbWV0YVtsYWJlbFRvdGFsUGFnZXNdID0gcGFnZXM7IC8vIFNldCBwcmV2IHBhZ2VcblxuICAgICAgaWYgKHBhZ2UgPiAxKSB7XG4gICAgICAgIG1ldGFbbGFiZWxIYXNQcmV2UGFnZV0gPSB0cnVlO1xuICAgICAgICBtZXRhW2xhYmVsUHJldlBhZ2VdID0gcGFnZSAtIDE7XG4gICAgICB9IGVsc2UgaWYgKHBhZ2UgPT0gMSAmJiB0eXBlb2Ygb2Zmc2V0ICE9PSAndW5kZWZpbmVkJyAmJiBvZmZzZXQgIT09IDApIHtcbiAgICAgICAgbWV0YVtsYWJlbEhhc1ByZXZQYWdlXSA9IHRydWU7XG4gICAgICAgIG1ldGFbbGFiZWxQcmV2UGFnZV0gPSAxO1xuICAgICAgfSAvLyBTZXQgbmV4dCBwYWdlXG5cblxuICAgICAgaWYgKHBhZ2UgPCBwYWdlcykge1xuICAgICAgICBtZXRhW2xhYmVsSGFzTmV4dFBhZ2VdID0gdHJ1ZTtcbiAgICAgICAgbWV0YVtsYWJlbE5leHRQYWdlXSA9IHBhZ2UgKyAxO1xuICAgICAgfVxuICAgIH0gLy8gUmVtb3ZlIGN1c3RvbUxhYmVscyBzZXQgdG8gZmFsc2VcblxuXG4gICAgZGVsZXRlIG1ldGFbJ2ZhbHNlJ107XG5cbiAgICBpZiAobGltaXQgPT0gMCkge1xuICAgICAgbWV0YVtsYWJlbExpbWl0XSA9IDA7XG4gICAgICBtZXRhW2xhYmVsVG90YWxQYWdlc10gPSAxO1xuICAgICAgbWV0YVtsYWJlbFBhZ2VdID0gMTtcbiAgICAgIG1ldGFbbGFiZWxQYWdpbmdDb3VudGVyXSA9IDE7XG4gICAgICBtZXRhW2xhYmVsUHJldlBhZ2VdID0gbnVsbDtcbiAgICAgIG1ldGFbbGFiZWxOZXh0UGFnZV0gPSBudWxsO1xuICAgICAgbWV0YVtsYWJlbEhhc1ByZXZQYWdlXSA9IGZhbHNlO1xuICAgICAgbWV0YVtsYWJlbEhhc05leHRQYWdlXSA9IGZhbHNlO1xuICAgIH1cblxuICAgIGlmIChsYWJlbE1ldGEpIHtcbiAgICAgIHJlc3VsdCA9IHtcbiAgICAgICAgW2xhYmVsRG9jc106IGRvY3MsXG4gICAgICAgIFtsYWJlbE1ldGFdOiBtZXRhXG4gICAgICB9O1xuICAgIH0gZWxzZSB7XG4gICAgICByZXN1bHQgPSBfb2JqZWN0U3ByZWFkKHtcbiAgICAgICAgW2xhYmVsRG9jc106IGRvY3NcbiAgICAgIH0sIG1ldGEpO1xuICAgIH1cblxuICAgIHJldHVybiBpc0NhbGxiYWNrU3BlY2lmaWVkID8gY2FsbGJhY2sobnVsbCwgcmVzdWx0KSA6IFByb21pc2UucmVzb2x2ZShyZXN1bHQpO1xuICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICByZXR1cm4gaXNDYWxsYmFja1NwZWNpZmllZCA/IGNhbGxiYWNrKGVycm9yKSA6IFByb21pc2UucmVqZWN0KGVycm9yKTtcbiAgfSk7XG59XG4vKipcclxuICogQHBhcmFtIHtTY2hlbWF9IHNjaGVtYVxyXG4gKi9cblxuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChzY2hlbWEpIHtcbiAgc2NoZW1hLnN0YXRpY3MucGFnaW5hdGUgPSBwYWdpbmF0ZTtcbiAgc2NoZW1hLnN0YXRpY3MucGFnaW5hdGVTdWJEb2NzID0gcGFnaW5hdGVTdWJEb2NzSGVscGVyO1xufTtcblxubW9kdWxlLmV4cG9ydHMuUGFnaW5hdGlvblBhcmFtZXRlcnMgPSBQYWdpbmF0aW9uUGFyYW1ldGVyc0hlbHBlcjtcbm1vZHVsZS5leHBvcnRzLnBhZ2luYXRlU3ViRG9jcyA9IHBhZ2luYXRlU3ViRG9jc0hlbHBlcjtcbm1vZHVsZS5leHBvcnRzLnBhZ2luYXRlID0gcGFnaW5hdGU7Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/mongoose-paginate-v2/dist/index.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/mongoose-paginate-v2/dist/pagination-parameters.js":
/*!*************************************************************************!*\
  !*** ./node_modules/mongoose-paginate-v2/dist/pagination-parameters.js ***!
  \*************************************************************************/
/***/ ((module) => {

eval("\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar PaginationParametersHelper = /*#__PURE__*/function () {\n  function PaginationParametersHelper(request) {\n    _classCallCheck(this, PaginationParametersHelper);\n\n    this.query = request.query;\n  }\n  /**\r\n   * Handle boolean options\r\n   * If the 'option'-Parameter is a string, check if it equals 'true'\r\n   * If not, it should be a boolean, and can be returned as it is.\r\n   *\r\n   * @param {string|boolean} option\r\n   * @return {boolean}\r\n   * */\n\n\n  _createClass(PaginationParametersHelper, [{\n    key: \"booleanOpt\",\n    value: function booleanOpt(option) {\n      return typeof option === 'string' ? option === 'true' : option;\n    }\n    /**\r\n     * Handle options that are strings or objects (including arrays)\r\n     *\r\n     * @param {object|string} option\r\n     * @return {object|string}\r\n     * */\n\n  }, {\n    key: \"optObjectOrString\",\n    value: function optObjectOrString(option) {\n      // Since the JSON in the query object will be strings,\n      // we need to be able to detect this, in order to differentiate between JSON-objects and pure strings.\n      // a pure string, e.g. 'field -test', might not be parsed as wished by JSON.parse\n      var openingBrackets = ['{', '['];\n      var closingBrackets = ['}', ']'];\n      var firstCharIsBracket = option[0] && openingBrackets.includes(option[0]);\n      var lastCharIsBracket = option[option.length - 1] && closingBrackets.includes(option[option.length - 1]);\n      var optionIsObject = firstCharIsBracket && lastCharIsBracket;\n\n      try {\n        return optionIsObject ? JSON.parse(option) : option;\n      } catch (err) {\n        // Fallback for parsing errors of objects\n        return {};\n      }\n    }\n    /**\r\n     * Yields the \"query\" parameter for Model.paginate()\r\n     * given any attributes of the Express req.query-Object,\r\n     * */\n\n  }, {\n    key: \"getQuery\",\n    value: function getQuery() {\n      var _this$query;\n\n      var filtersQueryParameter = (_this$query = this.query) === null || _this$query === void 0 ? void 0 : _this$query.query;\n      if (!filtersQueryParameter) return {};\n\n      try {\n        return JSON.parse(filtersQueryParameter);\n      } catch (err) {\n        return {};\n      }\n    }\n    /**\r\n     * Yields the \"options\" parameter for Model.paginate(),\r\n     * given any attributes of the Express req.query-Object\r\n     * */\n\n  }, {\n    key: \"getOptions\",\n    value: function getOptions() {\n      if (!this.query) return {};\n      var options = {}; // Instantiate variables with all the possible options for Model.paginate()\n\n      var select = this.query.select,\n          collation = this.query.collation,\n          sort = this.query.sort,\n          populate = this.query.populate,\n          projection = this.query.projection,\n          lean = this.query.lean,\n          leanWithId = this.query.leanWithId,\n          offset = this.query.offset,\n          page = this.query.page,\n          limit = this.query.limit,\n          customLabels = this.query.customLabels,\n          pagination = this.query.pagination,\n          useEstimatedCount = this.query.useEstimatedCount,\n          useCustomCountFn = this.query.useCustomCountFn,\n          forceCountFn = this.query.forceCountFn,\n          allowDiskUse = this.query.allowDiskUse,\n          read = this.query.read,\n          mongooseOptions = this.query.options; // For every option that is set, add it to the 'options' object-literal\n\n      if (select) options['select'] = this.optObjectOrString(select);\n      if (collation) options['collation'] = this.optObjectOrString(collation);\n      if (sort) options['sort'] = this.optObjectOrString(sort);\n      if (populate) options['populate'] = this.optObjectOrString(populate);\n      if (projection !== undefined) options['projection'] = this.optObjectOrString(projection);\n      if (lean !== undefined) options['lean'] = this.booleanOpt(lean);\n      if (leanWithId !== undefined) options['leanWithId'] = this.booleanOpt(leanWithId);\n      if (offset) options['offset'] = Number(offset);\n      if (page) options['page'] = Number(page);\n      if (limit) options['limit'] = Number(limit);\n      if (customLabels) options['customLabels'] = this.optObjectOrString(customLabels);\n      if (pagination !== undefined) options['pagination'] = this.booleanOpt(pagination);\n      if (useEstimatedCount !== undefined) options['useEstimatedCount'] = this.booleanOpt(useEstimatedCount);\n      if (useCustomCountFn !== undefined) options['useCustomCountFn'] = this.booleanOpt(useCustomCountFn);\n      if (forceCountFn !== undefined) options['forceCountFn'] = this.booleanOpt(forceCountFn);\n      if (allowDiskUse) options['allowDiskUse'] = this.booleanOpt(allowDiskUse);\n      if (read) options['read'] = this.optObjectOrString(read);\n      if (mongooseOptions) options['options'] = this.getOptions(mongooseOptions);\n      return options;\n    }\n    /**\r\n     * Yields an array with positions:\r\n     * [0] \"query\" parameter, for Model.paginate()\r\n     * [1] \"options\" parameter, for Model.paginate()\r\n     * */\n\n  }, {\n    key: \"get\",\n    value: function get() {\n      return [_objectSpread({}, this.getQuery()), _objectSpread({}, this.getOptions())];\n    }\n  }]);\n\n  return PaginationParametersHelper;\n}();\n\nmodule.exports = PaginationParametersHelper;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbW9uZ29vc2UtcGFnaW5hdGUtdjIvZGlzdC9wYWdpbmF0aW9uLXBhcmFtZXRlcnMuanMiLCJtYXBwaW5ncyI6IkFBQWE7O0FBRWIsMkNBQTJDLGdDQUFnQyxvQ0FBb0Msb0RBQW9ELHNCQUFzQiwwQ0FBMEMsaUVBQWlFLEtBQUssa0NBQWtDOztBQUUzVSxpQ0FBaUMsZ0JBQWdCLHNCQUFzQixPQUFPLHVEQUF1RCxhQUFhLHVEQUF1RCw0Q0FBNEMsS0FBSyw2Q0FBNkMsNkVBQTZFLE9BQU8saURBQWlELG1GQUFtRixPQUFPOztBQUV0Z0IsNENBQTRDLGtCQUFrQixrQ0FBa0Msb0VBQW9FLEtBQUssT0FBTyxvQkFBb0I7O0FBRXBNLGtEQUFrRCwwQ0FBMEM7O0FBRTVGLDRDQUE0QyxnQkFBZ0Isa0JBQWtCLE9BQU8sMkJBQTJCLHdEQUF3RCxnQ0FBZ0MsdURBQXVEOztBQUUvUCw4REFBOEQsc0VBQXNFLDhEQUE4RDs7QUFFbE07QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSxnQkFBZ0I7QUFDN0IsY0FBYztBQUNkOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxlQUFlO0FBQzlCLGdCQUFnQjtBQUNoQjs7QUFFQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtCQUErQjtBQUMvQiwrQkFBK0I7QUFDL0I7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxHQUFHO0FBQ0g7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCOztBQUV4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0RBQWdEOztBQUVoRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLDhCQUE4QixvQ0FBb0M7QUFDbEU7QUFDQSxHQUFHOztBQUVIO0FBQ0EsQ0FBQzs7QUFFRCIsInNvdXJjZXMiOlsid2VicGFjazovL25leHQtbGF0ZXN0LXN0YXJ0ZXIvLi9ub2RlX21vZHVsZXMvbW9uZ29vc2UtcGFnaW5hdGUtdjIvZGlzdC9wYWdpbmF0aW9uLXBhcmFtZXRlcnMuanM/ZGJhZCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxuZnVuY3Rpb24gb3duS2V5cyhvYmplY3QsIGVudW1lcmFibGVPbmx5KSB7IHZhciBrZXlzID0gT2JqZWN0LmtleXMob2JqZWN0KTsgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsgdmFyIHN5bWJvbHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKG9iamVjdCk7IGlmIChlbnVtZXJhYmxlT25seSkgeyBzeW1ib2xzID0gc3ltYm9scy5maWx0ZXIoZnVuY3Rpb24gKHN5bSkgeyByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHN5bSkuZW51bWVyYWJsZTsgfSk7IH0ga2V5cy5wdXNoLmFwcGx5KGtleXMsIHN5bWJvbHMpOyB9IHJldHVybiBrZXlzOyB9XG5cbmZ1bmN0aW9uIF9vYmplY3RTcHJlYWQodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV0gIT0gbnVsbCA/IGFyZ3VtZW50c1tpXSA6IHt9OyBpZiAoaSAlIDIpIHsgb3duS2V5cyhPYmplY3Qoc291cmNlKSwgdHJ1ZSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IF9kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgc291cmNlW2tleV0pOyB9KTsgfSBlbHNlIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycykgeyBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHNvdXJjZSkpOyB9IGVsc2UgeyBvd25LZXlzKE9iamVjdChzb3VyY2UpKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHNvdXJjZSwga2V5KSk7IH0pOyB9IH0gcmV0dXJuIHRhcmdldDsgfVxuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKSB7IGlmIChrZXkgaW4gb2JqKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgeyB2YWx1ZTogdmFsdWUsIGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUgfSk7IH0gZWxzZSB7IG9ialtrZXldID0gdmFsdWU7IH0gcmV0dXJuIG9iajsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9XG5cbmZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9XG5cbnZhciBQYWdpbmF0aW9uUGFyYW1ldGVyc0hlbHBlciA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIFBhZ2luYXRpb25QYXJhbWV0ZXJzSGVscGVyKHJlcXVlc3QpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgUGFnaW5hdGlvblBhcmFtZXRlcnNIZWxwZXIpO1xuXG4gICAgdGhpcy5xdWVyeSA9IHJlcXVlc3QucXVlcnk7XG4gIH1cbiAgLyoqXHJcbiAgICogSGFuZGxlIGJvb2xlYW4gb3B0aW9uc1xyXG4gICAqIElmIHRoZSAnb3B0aW9uJy1QYXJhbWV0ZXIgaXMgYSBzdHJpbmcsIGNoZWNrIGlmIGl0IGVxdWFscyAndHJ1ZSdcclxuICAgKiBJZiBub3QsIGl0IHNob3VsZCBiZSBhIGJvb2xlYW4sIGFuZCBjYW4gYmUgcmV0dXJuZWQgYXMgaXQgaXMuXHJcbiAgICpcclxuICAgKiBAcGFyYW0ge3N0cmluZ3xib29sZWFufSBvcHRpb25cclxuICAgKiBAcmV0dXJuIHtib29sZWFufVxyXG4gICAqICovXG5cblxuICBfY3JlYXRlQ2xhc3MoUGFnaW5hdGlvblBhcmFtZXRlcnNIZWxwZXIsIFt7XG4gICAga2V5OiBcImJvb2xlYW5PcHRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gYm9vbGVhbk9wdChvcHRpb24pIHtcbiAgICAgIHJldHVybiB0eXBlb2Ygb3B0aW9uID09PSAnc3RyaW5nJyA/IG9wdGlvbiA9PT0gJ3RydWUnIDogb3B0aW9uO1xuICAgIH1cbiAgICAvKipcclxuICAgICAqIEhhbmRsZSBvcHRpb25zIHRoYXQgYXJlIHN0cmluZ3Mgb3Igb2JqZWN0cyAoaW5jbHVkaW5nIGFycmF5cylcclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0ge29iamVjdHxzdHJpbmd9IG9wdGlvblxyXG4gICAgICogQHJldHVybiB7b2JqZWN0fHN0cmluZ31cclxuICAgICAqICovXG5cbiAgfSwge1xuICAgIGtleTogXCJvcHRPYmplY3RPclN0cmluZ1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBvcHRPYmplY3RPclN0cmluZyhvcHRpb24pIHtcbiAgICAgIC8vIFNpbmNlIHRoZSBKU09OIGluIHRoZSBxdWVyeSBvYmplY3Qgd2lsbCBiZSBzdHJpbmdzLFxuICAgICAgLy8gd2UgbmVlZCB0byBiZSBhYmxlIHRvIGRldGVjdCB0aGlzLCBpbiBvcmRlciB0byBkaWZmZXJlbnRpYXRlIGJldHdlZW4gSlNPTi1vYmplY3RzIGFuZCBwdXJlIHN0cmluZ3MuXG4gICAgICAvLyBhIHB1cmUgc3RyaW5nLCBlLmcuICdmaWVsZCAtdGVzdCcsIG1pZ2h0IG5vdCBiZSBwYXJzZWQgYXMgd2lzaGVkIGJ5IEpTT04ucGFyc2VcbiAgICAgIHZhciBvcGVuaW5nQnJhY2tldHMgPSBbJ3snLCAnWyddO1xuICAgICAgdmFyIGNsb3NpbmdCcmFja2V0cyA9IFsnfScsICddJ107XG4gICAgICB2YXIgZmlyc3RDaGFySXNCcmFja2V0ID0gb3B0aW9uWzBdICYmIG9wZW5pbmdCcmFja2V0cy5pbmNsdWRlcyhvcHRpb25bMF0pO1xuICAgICAgdmFyIGxhc3RDaGFySXNCcmFja2V0ID0gb3B0aW9uW29wdGlvbi5sZW5ndGggLSAxXSAmJiBjbG9zaW5nQnJhY2tldHMuaW5jbHVkZXMob3B0aW9uW29wdGlvbi5sZW5ndGggLSAxXSk7XG4gICAgICB2YXIgb3B0aW9uSXNPYmplY3QgPSBmaXJzdENoYXJJc0JyYWNrZXQgJiYgbGFzdENoYXJJc0JyYWNrZXQ7XG5cbiAgICAgIHRyeSB7XG4gICAgICAgIHJldHVybiBvcHRpb25Jc09iamVjdCA/IEpTT04ucGFyc2Uob3B0aW9uKSA6IG9wdGlvbjtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAvLyBGYWxsYmFjayBmb3IgcGFyc2luZyBlcnJvcnMgb2Ygb2JqZWN0c1xuICAgICAgICByZXR1cm4ge307XG4gICAgICB9XG4gICAgfVxuICAgIC8qKlxyXG4gICAgICogWWllbGRzIHRoZSBcInF1ZXJ5XCIgcGFyYW1ldGVyIGZvciBNb2RlbC5wYWdpbmF0ZSgpXHJcbiAgICAgKiBnaXZlbiBhbnkgYXR0cmlidXRlcyBvZiB0aGUgRXhwcmVzcyByZXEucXVlcnktT2JqZWN0LFxyXG4gICAgICogKi9cblxuICB9LCB7XG4gICAga2V5OiBcImdldFF1ZXJ5XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldFF1ZXJ5KCkge1xuICAgICAgdmFyIF90aGlzJHF1ZXJ5O1xuXG4gICAgICB2YXIgZmlsdGVyc1F1ZXJ5UGFyYW1ldGVyID0gKF90aGlzJHF1ZXJ5ID0gdGhpcy5xdWVyeSkgPT09IG51bGwgfHwgX3RoaXMkcXVlcnkgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF90aGlzJHF1ZXJ5LnF1ZXJ5O1xuICAgICAgaWYgKCFmaWx0ZXJzUXVlcnlQYXJhbWV0ZXIpIHJldHVybiB7fTtcblxuICAgICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIEpTT04ucGFyc2UoZmlsdGVyc1F1ZXJ5UGFyYW1ldGVyKTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICByZXR1cm4ge307XG4gICAgICB9XG4gICAgfVxuICAgIC8qKlxyXG4gICAgICogWWllbGRzIHRoZSBcIm9wdGlvbnNcIiBwYXJhbWV0ZXIgZm9yIE1vZGVsLnBhZ2luYXRlKCksXHJcbiAgICAgKiBnaXZlbiBhbnkgYXR0cmlidXRlcyBvZiB0aGUgRXhwcmVzcyByZXEucXVlcnktT2JqZWN0XHJcbiAgICAgKiAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiZ2V0T3B0aW9uc1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRPcHRpb25zKCkge1xuICAgICAgaWYgKCF0aGlzLnF1ZXJ5KSByZXR1cm4ge307XG4gICAgICB2YXIgb3B0aW9ucyA9IHt9OyAvLyBJbnN0YW50aWF0ZSB2YXJpYWJsZXMgd2l0aCBhbGwgdGhlIHBvc3NpYmxlIG9wdGlvbnMgZm9yIE1vZGVsLnBhZ2luYXRlKClcblxuICAgICAgdmFyIHNlbGVjdCA9IHRoaXMucXVlcnkuc2VsZWN0LFxuICAgICAgICAgIGNvbGxhdGlvbiA9IHRoaXMucXVlcnkuY29sbGF0aW9uLFxuICAgICAgICAgIHNvcnQgPSB0aGlzLnF1ZXJ5LnNvcnQsXG4gICAgICAgICAgcG9wdWxhdGUgPSB0aGlzLnF1ZXJ5LnBvcHVsYXRlLFxuICAgICAgICAgIHByb2plY3Rpb24gPSB0aGlzLnF1ZXJ5LnByb2plY3Rpb24sXG4gICAgICAgICAgbGVhbiA9IHRoaXMucXVlcnkubGVhbixcbiAgICAgICAgICBsZWFuV2l0aElkID0gdGhpcy5xdWVyeS5sZWFuV2l0aElkLFxuICAgICAgICAgIG9mZnNldCA9IHRoaXMucXVlcnkub2Zmc2V0LFxuICAgICAgICAgIHBhZ2UgPSB0aGlzLnF1ZXJ5LnBhZ2UsXG4gICAgICAgICAgbGltaXQgPSB0aGlzLnF1ZXJ5LmxpbWl0LFxuICAgICAgICAgIGN1c3RvbUxhYmVscyA9IHRoaXMucXVlcnkuY3VzdG9tTGFiZWxzLFxuICAgICAgICAgIHBhZ2luYXRpb24gPSB0aGlzLnF1ZXJ5LnBhZ2luYXRpb24sXG4gICAgICAgICAgdXNlRXN0aW1hdGVkQ291bnQgPSB0aGlzLnF1ZXJ5LnVzZUVzdGltYXRlZENvdW50LFxuICAgICAgICAgIHVzZUN1c3RvbUNvdW50Rm4gPSB0aGlzLnF1ZXJ5LnVzZUN1c3RvbUNvdW50Rm4sXG4gICAgICAgICAgZm9yY2VDb3VudEZuID0gdGhpcy5xdWVyeS5mb3JjZUNvdW50Rm4sXG4gICAgICAgICAgYWxsb3dEaXNrVXNlID0gdGhpcy5xdWVyeS5hbGxvd0Rpc2tVc2UsXG4gICAgICAgICAgcmVhZCA9IHRoaXMucXVlcnkucmVhZCxcbiAgICAgICAgICBtb25nb29zZU9wdGlvbnMgPSB0aGlzLnF1ZXJ5Lm9wdGlvbnM7IC8vIEZvciBldmVyeSBvcHRpb24gdGhhdCBpcyBzZXQsIGFkZCBpdCB0byB0aGUgJ29wdGlvbnMnIG9iamVjdC1saXRlcmFsXG5cbiAgICAgIGlmIChzZWxlY3QpIG9wdGlvbnNbJ3NlbGVjdCddID0gdGhpcy5vcHRPYmplY3RPclN0cmluZyhzZWxlY3QpO1xuICAgICAgaWYgKGNvbGxhdGlvbikgb3B0aW9uc1snY29sbGF0aW9uJ10gPSB0aGlzLm9wdE9iamVjdE9yU3RyaW5nKGNvbGxhdGlvbik7XG4gICAgICBpZiAoc29ydCkgb3B0aW9uc1snc29ydCddID0gdGhpcy5vcHRPYmplY3RPclN0cmluZyhzb3J0KTtcbiAgICAgIGlmIChwb3B1bGF0ZSkgb3B0aW9uc1sncG9wdWxhdGUnXSA9IHRoaXMub3B0T2JqZWN0T3JTdHJpbmcocG9wdWxhdGUpO1xuICAgICAgaWYgKHByb2plY3Rpb24gIT09IHVuZGVmaW5lZCkgb3B0aW9uc1sncHJvamVjdGlvbiddID0gdGhpcy5vcHRPYmplY3RPclN0cmluZyhwcm9qZWN0aW9uKTtcbiAgICAgIGlmIChsZWFuICE9PSB1bmRlZmluZWQpIG9wdGlvbnNbJ2xlYW4nXSA9IHRoaXMuYm9vbGVhbk9wdChsZWFuKTtcbiAgICAgIGlmIChsZWFuV2l0aElkICE9PSB1bmRlZmluZWQpIG9wdGlvbnNbJ2xlYW5XaXRoSWQnXSA9IHRoaXMuYm9vbGVhbk9wdChsZWFuV2l0aElkKTtcbiAgICAgIGlmIChvZmZzZXQpIG9wdGlvbnNbJ29mZnNldCddID0gTnVtYmVyKG9mZnNldCk7XG4gICAgICBpZiAocGFnZSkgb3B0aW9uc1sncGFnZSddID0gTnVtYmVyKHBhZ2UpO1xuICAgICAgaWYgKGxpbWl0KSBvcHRpb25zWydsaW1pdCddID0gTnVtYmVyKGxpbWl0KTtcbiAgICAgIGlmIChjdXN0b21MYWJlbHMpIG9wdGlvbnNbJ2N1c3RvbUxhYmVscyddID0gdGhpcy5vcHRPYmplY3RPclN0cmluZyhjdXN0b21MYWJlbHMpO1xuICAgICAgaWYgKHBhZ2luYXRpb24gIT09IHVuZGVmaW5lZCkgb3B0aW9uc1sncGFnaW5hdGlvbiddID0gdGhpcy5ib29sZWFuT3B0KHBhZ2luYXRpb24pO1xuICAgICAgaWYgKHVzZUVzdGltYXRlZENvdW50ICE9PSB1bmRlZmluZWQpIG9wdGlvbnNbJ3VzZUVzdGltYXRlZENvdW50J10gPSB0aGlzLmJvb2xlYW5PcHQodXNlRXN0aW1hdGVkQ291bnQpO1xuICAgICAgaWYgKHVzZUN1c3RvbUNvdW50Rm4gIT09IHVuZGVmaW5lZCkgb3B0aW9uc1sndXNlQ3VzdG9tQ291bnRGbiddID0gdGhpcy5ib29sZWFuT3B0KHVzZUN1c3RvbUNvdW50Rm4pO1xuICAgICAgaWYgKGZvcmNlQ291bnRGbiAhPT0gdW5kZWZpbmVkKSBvcHRpb25zWydmb3JjZUNvdW50Rm4nXSA9IHRoaXMuYm9vbGVhbk9wdChmb3JjZUNvdW50Rm4pO1xuICAgICAgaWYgKGFsbG93RGlza1VzZSkgb3B0aW9uc1snYWxsb3dEaXNrVXNlJ10gPSB0aGlzLmJvb2xlYW5PcHQoYWxsb3dEaXNrVXNlKTtcbiAgICAgIGlmIChyZWFkKSBvcHRpb25zWydyZWFkJ10gPSB0aGlzLm9wdE9iamVjdE9yU3RyaW5nKHJlYWQpO1xuICAgICAgaWYgKG1vbmdvb3NlT3B0aW9ucykgb3B0aW9uc1snb3B0aW9ucyddID0gdGhpcy5nZXRPcHRpb25zKG1vbmdvb3NlT3B0aW9ucyk7XG4gICAgICByZXR1cm4gb3B0aW9ucztcbiAgICB9XG4gICAgLyoqXHJcbiAgICAgKiBZaWVsZHMgYW4gYXJyYXkgd2l0aCBwb3NpdGlvbnM6XHJcbiAgICAgKiBbMF0gXCJxdWVyeVwiIHBhcmFtZXRlciwgZm9yIE1vZGVsLnBhZ2luYXRlKClcclxuICAgICAqIFsxXSBcIm9wdGlvbnNcIiBwYXJhbWV0ZXIsIGZvciBNb2RlbC5wYWdpbmF0ZSgpXHJcbiAgICAgKiAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiZ2V0XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiBbX29iamVjdFNwcmVhZCh7fSwgdGhpcy5nZXRRdWVyeSgpKSwgX29iamVjdFNwcmVhZCh7fSwgdGhpcy5nZXRPcHRpb25zKCkpXTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gUGFnaW5hdGlvblBhcmFtZXRlcnNIZWxwZXI7XG59KCk7XG5cbm1vZHVsZS5leHBvcnRzID0gUGFnaW5hdGlvblBhcmFtZXRlcnNIZWxwZXI7Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/mongoose-paginate-v2/dist/pagination-parameters.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/mongoose-paginate-v2/dist/pagination-subdocs.js":
/*!**********************************************************************!*\
  !*** ./node_modules/mongoose-paginate-v2/dist/pagination-subdocs.js ***!
  \**********************************************************************/
/***/ ((module) => {

eval("\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n/**\r\n * Pagination process for sub-documents\r\n * internally, it would call `query.findOne`, return only one document\r\n *\r\n * @param {Object} query\r\n * @param {Object} options\r\n * @param {Function} callback\r\n */\nfunction paginateSubDocs(query, options, callback) {\n  /**\r\n   * Populate sub documents with pagination fields\r\n   *\r\n   * @param {Object} query\r\n   * @param {Object} populate origin populate option\r\n   * @param {Object} option\r\n   */\n  function getSubDocsPopulate(option) {\n    // options properties for sub-documents pagination\n    var populate = option.populate,\n        _option$page = option.page,\n        page = _option$page === void 0 ? 1 : _option$page,\n        _option$limit = option.limit,\n        limit = _option$limit === void 0 ? 10 : _option$limit;\n\n    if (!populate) {\n      throw new Error('populate is required');\n    }\n\n    var offset = (page - 1) * limit;\n    option.offset = offset;\n    var pagination = {\n      skip: offset,\n      limit: limit\n    };\n\n    if (typeof populate === 'string') {\n      populate = _objectSpread({\n        path: populate\n      }, pagination);\n    } else if (typeof populate === 'object' && !Array.isArray(populate)) {\n      populate = Object.assign(populate, pagination);\n    }\n\n    option.populate = populate;\n    return populate;\n  }\n\n  function populateResult(result, populate, callback) {\n    return result.populate(populate, callback);\n  }\n  /**\r\n   * Convert result of sub-docs list to pagination like docs\r\n   *\r\n   * @param {Object} result query result\r\n   * @param {Object} option pagination option\r\n   */\n\n\n  function constructDocs(paginatedResult, option) {\n    var populate = option.populate,\n        _option$offset = option.offset,\n        offset = _option$offset === void 0 ? 0 : _option$offset,\n        _option$page2 = option.page,\n        page = _option$page2 === void 0 ? 1 : _option$page2,\n        _option$limit2 = option.limit,\n        limit = _option$limit2 === void 0 ? 10 : _option$limit2;\n    var path = populate.path;\n    var count = option.count;\n    var paginatedDocs = paginatedResult[path];\n\n    if (!paginatedDocs) {\n      throw new Error(`Parse error! Cannot find key on result with path ${path}`);\n    }\n\n    page = Math.ceil((offset + 1) / limit); // set default meta\n\n    var meta = {\n      docs: paginatedDocs,\n      totalDocs: count || 1,\n      limit: limit,\n      page: page,\n      prevPage: null,\n      nextPage: null,\n      hasPrevPage: false,\n      hasNextPage: false\n    };\n    var totalPages = limit > 0 ? Math.ceil(count / limit) || 1 : null;\n    meta.totalPages = totalPages;\n    meta.pagingCounter = (page - 1) * limit + 1; // Set prev page\n\n    if (page > 1) {\n      meta.hasPrevPage = true;\n      meta.prevPage = page - 1;\n    } else if (page == 1 && offset !== 0) {\n      meta.hasPrevPage = true;\n      meta.prevPage = 1;\n    } // Set next page\n\n\n    if (page < totalPages) {\n      meta.hasNextPage = true;\n      meta.nextPage = page + 1;\n    }\n\n    if (limit == 0) {\n      meta.limit = 0;\n      meta.totalPages = 1;\n      meta.page = 1;\n      meta.pagingCounter = 1;\n    }\n\n    Object.defineProperty(paginatedResult, path, {\n      value: meta,\n      writable: false\n    });\n  } // options properties for main document query\n\n\n  var populate = options.populate,\n      _options$read = options.read,\n      read = _options$read === void 0 ? {} : _options$read,\n      _options$select = options.select,\n      select = _options$select === void 0 ? '' : _options$select,\n      _options$pagination = options.pagination,\n      pagination = _options$pagination === void 0 ? true : _options$pagination,\n      pagingOptions = options.pagingOptions,\n      projection = options.projection;\n  var mQuery = this.findOne(query, projection);\n\n  if (read && read.pref) {\n    /**\r\n     * Determines the MongoDB nodes from which to read.\r\n     * @param read.pref one of the listed preference options or aliases\r\n     * @param read.tags optional tags for this query\r\n     */\n    mQuery.read(read.pref, read.tags);\n  }\n\n  if (select) {\n    mQuery.select(select);\n  }\n\n  return new Promise(function (resolve, reject) {\n    mQuery.exec().then(function (result) {\n      var newPopulate = [];\n\n      if (populate) {\n        newPopulate.push(newPopulate);\n      }\n\n      if (pagination && pagingOptions) {\n        if (Array.isArray(pagingOptions)) {\n          pagingOptions.forEach(function (option) {\n            var populate = getSubDocsPopulate(option);\n            option.count = result[populate.path].length;\n            newPopulate.push(populate);\n          });\n        } else {\n          var _populate = getSubDocsPopulate(pagingOptions);\n\n          pagingOptions.count = result[_populate.path].length;\n          newPopulate.push(_populate);\n        }\n      }\n\n      populateResult(result, newPopulate, function (err, paginatedResult) {\n        if (err) {\n          callback(err, null);\n          reject(err);\n          return;\n        } // convert paginatedResult to pagination docs\n\n\n        if (pagination && pagingOptions) {\n          if (Array.isArray(pagingOptions)) {\n            pagingOptions.forEach(function (option) {\n              constructDocs(paginatedResult, option);\n            });\n          } else {\n            constructDocs(paginatedResult, pagingOptions);\n          }\n        }\n\n        callback && callback(null, paginatedResult);\n        resolve(paginatedResult);\n      });\n    }).catch(function (err) {\n      console.error(err.message);\n      callback && callback(err, null);\n    });\n  });\n}\n\nmodule.exports = paginateSubDocs;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbW9uZ29vc2UtcGFnaW5hdGUtdjIvZGlzdC9wYWdpbmF0aW9uLXN1YmRvY3MuanMiLCJtYXBwaW5ncyI6IkFBQWE7O0FBRWIsMkNBQTJDLGdDQUFnQyxvQ0FBb0Msb0RBQW9ELHNCQUFzQiwwQ0FBMEMsaUVBQWlFLEtBQUssa0NBQWtDOztBQUUzVSxpQ0FBaUMsZ0JBQWdCLHNCQUFzQixPQUFPLHVEQUF1RCxhQUFhLHVEQUF1RCw0Q0FBNEMsS0FBSyw2Q0FBNkMsNkVBQTZFLE9BQU8saURBQWlELG1GQUFtRixPQUFPOztBQUV0Z0IsNENBQTRDLGtCQUFrQixrQ0FBa0Msb0VBQW9FLEtBQUssT0FBTyxvQkFBb0I7O0FBRXBNO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CLFdBQVcsUUFBUTtBQUNuQixXQUFXLFVBQVU7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsUUFBUTtBQUNyQixhQUFhLFFBQVE7QUFDckIsYUFBYSxRQUFRO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsTUFBTTtBQUNOO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsUUFBUTtBQUNyQixhQUFhLFFBQVE7QUFDckI7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSwwRUFBMEUsS0FBSztBQUMvRTs7QUFFQSw0Q0FBNEM7O0FBRTVDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlEQUFpRDs7QUFFakQ7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQSxNQUFNOzs7QUFHTjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLElBQUk7OztBQUdKO0FBQ0E7QUFDQSwyQ0FBMkM7QUFDM0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1gsVUFBVTtBQUNWOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVOzs7QUFHVjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYixZQUFZO0FBQ1o7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNIOztBQUVBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbmV4dC1sYXRlc3Qtc3RhcnRlci8uL25vZGVfbW9kdWxlcy9tb25nb29zZS1wYWdpbmF0ZS12Mi9kaXN0L3BhZ2luYXRpb24tc3ViZG9jcy5qcz85MGM3Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG5mdW5jdGlvbiBvd25LZXlzKG9iamVjdCwgZW51bWVyYWJsZU9ubHkpIHsgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhvYmplY3QpOyBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykgeyB2YXIgc3ltYm9scyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMob2JqZWN0KTsgaWYgKGVudW1lcmFibGVPbmx5KSB7IHN5bWJvbHMgPSBzeW1ib2xzLmZpbHRlcihmdW5jdGlvbiAoc3ltKSB7IHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iamVjdCwgc3ltKS5lbnVtZXJhYmxlOyB9KTsgfSBrZXlzLnB1c2guYXBwbHkoa2V5cywgc3ltYm9scyk7IH0gcmV0dXJuIGtleXM7IH1cblxuZnVuY3Rpb24gX29iamVjdFNwcmVhZCh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXSAhPSBudWxsID8gYXJndW1lbnRzW2ldIDoge307IGlmIChpICUgMikgeyBvd25LZXlzKE9iamVjdChzb3VyY2UpLCB0cnVlKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgX2RlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBzb3VyY2Vba2V5XSk7IH0pOyB9IGVsc2UgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoc291cmNlKSk7IH0gZWxzZSB7IG93bktleXMoT2JqZWN0KHNvdXJjZSkpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc291cmNlLCBrZXkpKTsgfSk7IH0gfSByZXR1cm4gdGFyZ2V0OyB9XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpIHsgaWYgKGtleSBpbiBvYmopIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7IHZhbHVlOiB2YWx1ZSwgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlLCB3cml0YWJsZTogdHJ1ZSB9KTsgfSBlbHNlIHsgb2JqW2tleV0gPSB2YWx1ZTsgfSByZXR1cm4gb2JqOyB9XG5cbi8qKlxyXG4gKiBQYWdpbmF0aW9uIHByb2Nlc3MgZm9yIHN1Yi1kb2N1bWVudHNcclxuICogaW50ZXJuYWxseSwgaXQgd291bGQgY2FsbCBgcXVlcnkuZmluZE9uZWAsIHJldHVybiBvbmx5IG9uZSBkb2N1bWVudFxyXG4gKlxyXG4gKiBAcGFyYW0ge09iamVjdH0gcXVlcnlcclxuICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcclxuICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2tcclxuICovXG5mdW5jdGlvbiBwYWdpbmF0ZVN1YkRvY3MocXVlcnksIG9wdGlvbnMsIGNhbGxiYWNrKSB7XG4gIC8qKlxyXG4gICAqIFBvcHVsYXRlIHN1YiBkb2N1bWVudHMgd2l0aCBwYWdpbmF0aW9uIGZpZWxkc1xyXG4gICAqXHJcbiAgICogQHBhcmFtIHtPYmplY3R9IHF1ZXJ5XHJcbiAgICogQHBhcmFtIHtPYmplY3R9IHBvcHVsYXRlIG9yaWdpbiBwb3B1bGF0ZSBvcHRpb25cclxuICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uXHJcbiAgICovXG4gIGZ1bmN0aW9uIGdldFN1YkRvY3NQb3B1bGF0ZShvcHRpb24pIHtcbiAgICAvLyBvcHRpb25zIHByb3BlcnRpZXMgZm9yIHN1Yi1kb2N1bWVudHMgcGFnaW5hdGlvblxuICAgIHZhciBwb3B1bGF0ZSA9IG9wdGlvbi5wb3B1bGF0ZSxcbiAgICAgICAgX29wdGlvbiRwYWdlID0gb3B0aW9uLnBhZ2UsXG4gICAgICAgIHBhZ2UgPSBfb3B0aW9uJHBhZ2UgPT09IHZvaWQgMCA/IDEgOiBfb3B0aW9uJHBhZ2UsXG4gICAgICAgIF9vcHRpb24kbGltaXQgPSBvcHRpb24ubGltaXQsXG4gICAgICAgIGxpbWl0ID0gX29wdGlvbiRsaW1pdCA9PT0gdm9pZCAwID8gMTAgOiBfb3B0aW9uJGxpbWl0O1xuXG4gICAgaWYgKCFwb3B1bGF0ZSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdwb3B1bGF0ZSBpcyByZXF1aXJlZCcpO1xuICAgIH1cblxuICAgIHZhciBvZmZzZXQgPSAocGFnZSAtIDEpICogbGltaXQ7XG4gICAgb3B0aW9uLm9mZnNldCA9IG9mZnNldDtcbiAgICB2YXIgcGFnaW5hdGlvbiA9IHtcbiAgICAgIHNraXA6IG9mZnNldCxcbiAgICAgIGxpbWl0OiBsaW1pdFxuICAgIH07XG5cbiAgICBpZiAodHlwZW9mIHBvcHVsYXRlID09PSAnc3RyaW5nJykge1xuICAgICAgcG9wdWxhdGUgPSBfb2JqZWN0U3ByZWFkKHtcbiAgICAgICAgcGF0aDogcG9wdWxhdGVcbiAgICAgIH0sIHBhZ2luYXRpb24pO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIHBvcHVsYXRlID09PSAnb2JqZWN0JyAmJiAhQXJyYXkuaXNBcnJheShwb3B1bGF0ZSkpIHtcbiAgICAgIHBvcHVsYXRlID0gT2JqZWN0LmFzc2lnbihwb3B1bGF0ZSwgcGFnaW5hdGlvbik7XG4gICAgfVxuXG4gICAgb3B0aW9uLnBvcHVsYXRlID0gcG9wdWxhdGU7XG4gICAgcmV0dXJuIHBvcHVsYXRlO1xuICB9XG5cbiAgZnVuY3Rpb24gcG9wdWxhdGVSZXN1bHQocmVzdWx0LCBwb3B1bGF0ZSwgY2FsbGJhY2spIHtcbiAgICByZXR1cm4gcmVzdWx0LnBvcHVsYXRlKHBvcHVsYXRlLCBjYWxsYmFjayk7XG4gIH1cbiAgLyoqXHJcbiAgICogQ29udmVydCByZXN1bHQgb2Ygc3ViLWRvY3MgbGlzdCB0byBwYWdpbmF0aW9uIGxpa2UgZG9jc1xyXG4gICAqXHJcbiAgICogQHBhcmFtIHtPYmplY3R9IHJlc3VsdCBxdWVyeSByZXN1bHRcclxuICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uIHBhZ2luYXRpb24gb3B0aW9uXHJcbiAgICovXG5cblxuICBmdW5jdGlvbiBjb25zdHJ1Y3REb2NzKHBhZ2luYXRlZFJlc3VsdCwgb3B0aW9uKSB7XG4gICAgdmFyIHBvcHVsYXRlID0gb3B0aW9uLnBvcHVsYXRlLFxuICAgICAgICBfb3B0aW9uJG9mZnNldCA9IG9wdGlvbi5vZmZzZXQsXG4gICAgICAgIG9mZnNldCA9IF9vcHRpb24kb2Zmc2V0ID09PSB2b2lkIDAgPyAwIDogX29wdGlvbiRvZmZzZXQsXG4gICAgICAgIF9vcHRpb24kcGFnZTIgPSBvcHRpb24ucGFnZSxcbiAgICAgICAgcGFnZSA9IF9vcHRpb24kcGFnZTIgPT09IHZvaWQgMCA/IDEgOiBfb3B0aW9uJHBhZ2UyLFxuICAgICAgICBfb3B0aW9uJGxpbWl0MiA9IG9wdGlvbi5saW1pdCxcbiAgICAgICAgbGltaXQgPSBfb3B0aW9uJGxpbWl0MiA9PT0gdm9pZCAwID8gMTAgOiBfb3B0aW9uJGxpbWl0MjtcbiAgICB2YXIgcGF0aCA9IHBvcHVsYXRlLnBhdGg7XG4gICAgdmFyIGNvdW50ID0gb3B0aW9uLmNvdW50O1xuICAgIHZhciBwYWdpbmF0ZWREb2NzID0gcGFnaW5hdGVkUmVzdWx0W3BhdGhdO1xuXG4gICAgaWYgKCFwYWdpbmF0ZWREb2NzKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYFBhcnNlIGVycm9yISBDYW5ub3QgZmluZCBrZXkgb24gcmVzdWx0IHdpdGggcGF0aCAke3BhdGh9YCk7XG4gICAgfVxuXG4gICAgcGFnZSA9IE1hdGguY2VpbCgob2Zmc2V0ICsgMSkgLyBsaW1pdCk7IC8vIHNldCBkZWZhdWx0IG1ldGFcblxuICAgIHZhciBtZXRhID0ge1xuICAgICAgZG9jczogcGFnaW5hdGVkRG9jcyxcbiAgICAgIHRvdGFsRG9jczogY291bnQgfHwgMSxcbiAgICAgIGxpbWl0OiBsaW1pdCxcbiAgICAgIHBhZ2U6IHBhZ2UsXG4gICAgICBwcmV2UGFnZTogbnVsbCxcbiAgICAgIG5leHRQYWdlOiBudWxsLFxuICAgICAgaGFzUHJldlBhZ2U6IGZhbHNlLFxuICAgICAgaGFzTmV4dFBhZ2U6IGZhbHNlXG4gICAgfTtcbiAgICB2YXIgdG90YWxQYWdlcyA9IGxpbWl0ID4gMCA/IE1hdGguY2VpbChjb3VudCAvIGxpbWl0KSB8fCAxIDogbnVsbDtcbiAgICBtZXRhLnRvdGFsUGFnZXMgPSB0b3RhbFBhZ2VzO1xuICAgIG1ldGEucGFnaW5nQ291bnRlciA9IChwYWdlIC0gMSkgKiBsaW1pdCArIDE7IC8vIFNldCBwcmV2IHBhZ2VcblxuICAgIGlmIChwYWdlID4gMSkge1xuICAgICAgbWV0YS5oYXNQcmV2UGFnZSA9IHRydWU7XG4gICAgICBtZXRhLnByZXZQYWdlID0gcGFnZSAtIDE7XG4gICAgfSBlbHNlIGlmIChwYWdlID09IDEgJiYgb2Zmc2V0ICE9PSAwKSB7XG4gICAgICBtZXRhLmhhc1ByZXZQYWdlID0gdHJ1ZTtcbiAgICAgIG1ldGEucHJldlBhZ2UgPSAxO1xuICAgIH0gLy8gU2V0IG5leHQgcGFnZVxuXG5cbiAgICBpZiAocGFnZSA8IHRvdGFsUGFnZXMpIHtcbiAgICAgIG1ldGEuaGFzTmV4dFBhZ2UgPSB0cnVlO1xuICAgICAgbWV0YS5uZXh0UGFnZSA9IHBhZ2UgKyAxO1xuICAgIH1cblxuICAgIGlmIChsaW1pdCA9PSAwKSB7XG4gICAgICBtZXRhLmxpbWl0ID0gMDtcbiAgICAgIG1ldGEudG90YWxQYWdlcyA9IDE7XG4gICAgICBtZXRhLnBhZ2UgPSAxO1xuICAgICAgbWV0YS5wYWdpbmdDb3VudGVyID0gMTtcbiAgICB9XG5cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkocGFnaW5hdGVkUmVzdWx0LCBwYXRoLCB7XG4gICAgICB2YWx1ZTogbWV0YSxcbiAgICAgIHdyaXRhYmxlOiBmYWxzZVxuICAgIH0pO1xuICB9IC8vIG9wdGlvbnMgcHJvcGVydGllcyBmb3IgbWFpbiBkb2N1bWVudCBxdWVyeVxuXG5cbiAgdmFyIHBvcHVsYXRlID0gb3B0aW9ucy5wb3B1bGF0ZSxcbiAgICAgIF9vcHRpb25zJHJlYWQgPSBvcHRpb25zLnJlYWQsXG4gICAgICByZWFkID0gX29wdGlvbnMkcmVhZCA9PT0gdm9pZCAwID8ge30gOiBfb3B0aW9ucyRyZWFkLFxuICAgICAgX29wdGlvbnMkc2VsZWN0ID0gb3B0aW9ucy5zZWxlY3QsXG4gICAgICBzZWxlY3QgPSBfb3B0aW9ucyRzZWxlY3QgPT09IHZvaWQgMCA/ICcnIDogX29wdGlvbnMkc2VsZWN0LFxuICAgICAgX29wdGlvbnMkcGFnaW5hdGlvbiA9IG9wdGlvbnMucGFnaW5hdGlvbixcbiAgICAgIHBhZ2luYXRpb24gPSBfb3B0aW9ucyRwYWdpbmF0aW9uID09PSB2b2lkIDAgPyB0cnVlIDogX29wdGlvbnMkcGFnaW5hdGlvbixcbiAgICAgIHBhZ2luZ09wdGlvbnMgPSBvcHRpb25zLnBhZ2luZ09wdGlvbnMsXG4gICAgICBwcm9qZWN0aW9uID0gb3B0aW9ucy5wcm9qZWN0aW9uO1xuICB2YXIgbVF1ZXJ5ID0gdGhpcy5maW5kT25lKHF1ZXJ5LCBwcm9qZWN0aW9uKTtcblxuICBpZiAocmVhZCAmJiByZWFkLnByZWYpIHtcbiAgICAvKipcclxuICAgICAqIERldGVybWluZXMgdGhlIE1vbmdvREIgbm9kZXMgZnJvbSB3aGljaCB0byByZWFkLlxyXG4gICAgICogQHBhcmFtIHJlYWQucHJlZiBvbmUgb2YgdGhlIGxpc3RlZCBwcmVmZXJlbmNlIG9wdGlvbnMgb3IgYWxpYXNlc1xyXG4gICAgICogQHBhcmFtIHJlYWQudGFncyBvcHRpb25hbCB0YWdzIGZvciB0aGlzIHF1ZXJ5XHJcbiAgICAgKi9cbiAgICBtUXVlcnkucmVhZChyZWFkLnByZWYsIHJlYWQudGFncyk7XG4gIH1cblxuICBpZiAoc2VsZWN0KSB7XG4gICAgbVF1ZXJ5LnNlbGVjdChzZWxlY3QpO1xuICB9XG5cbiAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICBtUXVlcnkuZXhlYygpLnRoZW4oZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgICAgdmFyIG5ld1BvcHVsYXRlID0gW107XG5cbiAgICAgIGlmIChwb3B1bGF0ZSkge1xuICAgICAgICBuZXdQb3B1bGF0ZS5wdXNoKG5ld1BvcHVsYXRlKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHBhZ2luYXRpb24gJiYgcGFnaW5nT3B0aW9ucykge1xuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShwYWdpbmdPcHRpb25zKSkge1xuICAgICAgICAgIHBhZ2luZ09wdGlvbnMuZm9yRWFjaChmdW5jdGlvbiAob3B0aW9uKSB7XG4gICAgICAgICAgICB2YXIgcG9wdWxhdGUgPSBnZXRTdWJEb2NzUG9wdWxhdGUob3B0aW9uKTtcbiAgICAgICAgICAgIG9wdGlvbi5jb3VudCA9IHJlc3VsdFtwb3B1bGF0ZS5wYXRoXS5sZW5ndGg7XG4gICAgICAgICAgICBuZXdQb3B1bGF0ZS5wdXNoKHBvcHVsYXRlKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB2YXIgX3BvcHVsYXRlID0gZ2V0U3ViRG9jc1BvcHVsYXRlKHBhZ2luZ09wdGlvbnMpO1xuXG4gICAgICAgICAgcGFnaW5nT3B0aW9ucy5jb3VudCA9IHJlc3VsdFtfcG9wdWxhdGUucGF0aF0ubGVuZ3RoO1xuICAgICAgICAgIG5ld1BvcHVsYXRlLnB1c2goX3BvcHVsYXRlKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBwb3B1bGF0ZVJlc3VsdChyZXN1bHQsIG5ld1BvcHVsYXRlLCBmdW5jdGlvbiAoZXJyLCBwYWdpbmF0ZWRSZXN1bHQpIHtcbiAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgIGNhbGxiYWNrKGVyciwgbnVsbCk7XG4gICAgICAgICAgcmVqZWN0KGVycik7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9IC8vIGNvbnZlcnQgcGFnaW5hdGVkUmVzdWx0IHRvIHBhZ2luYXRpb24gZG9jc1xuXG5cbiAgICAgICAgaWYgKHBhZ2luYXRpb24gJiYgcGFnaW5nT3B0aW9ucykge1xuICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KHBhZ2luZ09wdGlvbnMpKSB7XG4gICAgICAgICAgICBwYWdpbmdPcHRpb25zLmZvckVhY2goZnVuY3Rpb24gKG9wdGlvbikge1xuICAgICAgICAgICAgICBjb25zdHJ1Y3REb2NzKHBhZ2luYXRlZFJlc3VsdCwgb3B0aW9uKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zdHJ1Y3REb2NzKHBhZ2luYXRlZFJlc3VsdCwgcGFnaW5nT3B0aW9ucyk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgY2FsbGJhY2sgJiYgY2FsbGJhY2sobnVsbCwgcGFnaW5hdGVkUmVzdWx0KTtcbiAgICAgICAgcmVzb2x2ZShwYWdpbmF0ZWRSZXN1bHQpO1xuICAgICAgfSk7XG4gICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikge1xuICAgICAgY29uc29sZS5lcnJvcihlcnIubWVzc2FnZSk7XG4gICAgICBjYWxsYmFjayAmJiBjYWxsYmFjayhlcnIsIG51bGwpO1xuICAgIH0pO1xuICB9KTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBwYWdpbmF0ZVN1YkRvY3M7Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/mongoose-paginate-v2/dist/pagination-subdocs.js\n");

/***/ })

};
;